# EMG C3D Analyzer (GHOSTLY+)

**Analyze Electromyography (EMG) data from C3D files generated by the GHOSTLY rehabilitation game platform.**

This tool processes, analyzes, and visualizes EMG signals, providing insights into muscle activity to support rehabilitation monitoring and assessment.

![EMG C3D Analyzer Screenshot](https://github.com/ggustin93/emg-c3d-analyzer/blob/main/assets/screenshot-v1.png)

## Key Features

*   **C3D File Processing:** Ingests EMG data from C3D files, specifically formatted for the GHOSTLY game.
*   **Muscle Activity Analysis:** Detects and analyzes muscle contractions and patterns.
*   **Insightful Visualizations:** Generates interactive charts and analytics of EMG signals.
*   **User-Friendly Interface:** Intuitive web UI for file uploads and data review.
*   **Extensible API:** RESTful API for programmatic data access and integration.

## Technology Stack

*   **Backend:** Python, FastAPI, Poetry, `ezc3d`
*   **Frontend:** React, TypeScript, Tailwind CSS, `shadcn/ui`, Recharts
*   **Development Tools:** Ruff, Pyright

## Prerequisites

Before you begin, ensure you have the following installed:
*   Git
*   Python (3.10+ recommended)
*   Poetry (for Python package management)
*   Node.js (LTS version recommended, comes with npm)

## Getting Started

### 1. Clone the Repository
```bash
git clone https://github.com/ggustin93/emg-c3d-analyzer.git # Replace with your repo URL if different
cd emg-c3d-analyzer
```

### 2. Setup Backend
Ensure Poetry is configured to create the virtual environment within the project (optional, but recommended for consistency with `start_dev.sh`):
```bash
poetry config virtualenvs.in-project true
```
Install backend dependencies:
```bash
poetry install
```

### 3. Setup Frontend
```bash
cd frontend
npm install
cd ..
```

### 4. Running the Development Environment

**Option A: Using the Development Script (Recommended)**

The `start_dev.sh` script automates starting both backend and frontend servers.
First, ensure it's executable:
```bash
chmod +x start_dev.sh
```
Then run:
```bash
./start_dev.sh
```
*   The backend (FastAPI) will run, with logs in `backend.log` and `backend.error.log`.
*   The frontend (React) will start on `http://localhost:3000`.
*   The script handles cleanup (stopping the backend) on exit.

**Option B: Manual Start**

1.  **Start Backend Server:**
    (From project root, after `poetry install`)
    ```bash
    poetry run uvicorn c3d_api:app --reload --host 0.0.0.0 --port 8080
    ```
    The backend API will be available at `http://localhost:8080`.

2.  **Start Frontend Server:**
    (In a new terminal, from the `frontend` directory)
    ```bash
    cd frontend
    npm start
    ```
    The frontend will be available at `http://localhost:3000`.

## Configuration

### Frontend API Endpoint

The frontend needs to know the backend API URL.
*   **Local Development:** Defaults to `http://localhost:8080`. To use a different URL, create `frontend/.env` with:
    ```env
    REACT_APP_API_URL=your_custom_backend_url
    ```
*   **Production Deployment:** Set the `REACT_APP_API_URL` environment variable in your frontend hosting platform (e.g., Vercel) to the live backend URL.

The `.env` file is (and should be) in `.gitignore`.

## Deployment

*   **Frontend:** Can be deployed to static hosting platforms like Vercel or Netlify. Remember to set the `REACT_APP_API_URL` environment variable.
*   **Backend:** Can be deployed to services like Render, Fly.io, or any platform supporting Python/FastAPI applications.

## Project Structure

*   `./`: Backend (FastAPI), `pyproject.toml`, `start_dev.sh`, `README.md`.
*   `frontend/`: React application source.
    *   `src/components/`: Reusable UI components.
    *   `src/hooks/`: Custom React hooks.
    *   `src/types/`: TypeScript definitions.
*   `memory-bank/`: Project context and documentation files.
*   `data/`: (Gitignored) For uploads, results, plots.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request or open an issue for bugs, feature requests, or suggestions.

*(Consider adding guidelines on code style or running linters if you have a formal process).*

## License

This project is licensed under the MIT License. See the `LICENSE.md` file for details.