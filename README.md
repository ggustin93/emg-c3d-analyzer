# EMG C3D Analyzer (GHOSTLY+)

The EMG C3D Analyzer is a specialized tool designed to process, analyze, and visualize Electromyography (EMG) data from C3D files, particularly those generated by the GHOSTLY rehabilitation game platform. It aims to provide comprehensive insights into muscle activity to support rehabilitation monitoring and assessment.

![EMG C3D Analyzer Screenshot](https://github.com/ggustin93/emg-c3d-analyzer/blob/main/assets/screenshot-v1.png)

## Core Features

*   Processes C3D files containing EMG data (formatted from the GHOSTLY game)
*   Detects and analyzes muscle contractions.
*   Generates insightful analytics and visualizations of EMG signals.
*   Provides a user-friendly interface for file uploads and data review.
*   RESTful API for data access and potential integration with other systems.

## Technology Stack

*   **Backend:**
    *   Python 3.10+
    *   FastAPI
    *   Poetry (for dependency management)
    *   `ezc3d` (for C3D file processing)
*   **Frontend:**
    *   React
    *   TypeScript
    *   Create React App (`react-scripts`)
    *   Tailwind CSS
    *   `shadcn/ui` (for UI components)
    *   `recharts` (for charting)
*   **Development:**
    *   Ruff (linter/formatter)
    *   Pyright (type checker)

## Prerequisites

*   Python 3.10 or higher
*   Poetry (Python package manager)
*   Node.js (LTS version recommended)
*   npm (comes with Node.js) or yarn

## Setup and Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository-url>
    cd emg-c3d-analyzer
    ```

2.  **Backend Setup:**
    (From the project root directory `emg-c3d-analyzer`)
    ```bash
    poetry install
    ```

3.  **Frontend Setup:**
    ```bash
    cd frontend
    npm install 
    # or
    # yarn install
    ```
    The necessary `shadcn/ui` components are included in the repository, so no separate `shadcn-ui add` commands are typically needed for a fresh setup unless new components are added.

## Running the Application

1.  **Start the Backend Server:**
    (From the project root directory `emg-c3d-analyzer`)
    ```bash
    poetry run uvicorn main:app --reload
    ```
    The backend API will be available at `http://localhost:8080`.

2.  **Start the Frontend Development Server:**
    (From the `frontend` directory)
    ```bash
    npm start
    # or
    # yarn start
    ```
    The frontend application will be available at `http://localhost:3000`.

## Configuration

### Frontend API Endpoint

The frontend application connects to the backend API to upload files and fetch data. The URL for this API endpoint is configurable:

*   **Local Development:** By default, the frontend attempts to connect to the backend at `http://localhost:8080`. This is suitable when running the backend server locally as described in the "Running the Application" section.
    If you need to use a different backend URL during local development (e.g., a staging server or a locally running backend on a different port), you can create a file named `.env` in the `frontend` directory (i.e., `frontend/.env`) and set the `REACT_APP_API_URL` variable:
    ```
    REACT_APP_API_URL=your_backend_url_here
    ```
    Ensure `frontend/.env` is listed in your `.gitignore` file to avoid committing environment-specific configurations.

*   **Production Deployment (e.g., on Vercel):** When deploying the frontend to a hosting platform like Vercel, you **must** set the `REACT_APP_API_URL` environment variable in the hosting platform's project settings. This variable should point to the live URL of your deployed backend service (e.g., the URL provided by Render). The frontend build process will then embed this URL into the application.

## Project Structure

A brief overview of the key directories:

*   `./` (Root): Contains backend files (e.g., `main.py`, `c3d_processor.py`), `pyproject.toml`, `poetry.lock`, and this `README.md`.
*   `frontend/`: Contains the React frontend application.
    *   `frontend/src/`: Main source code for the frontend.
        *   `frontend/src/components/`: Reusable UI components.
        *   `frontend/src/hooks/`: Custom React hooks for state and logic.
        *   `frontend/src/types/`: TypeScript type definitions.
        *   `frontend/src/App.tsx`: Main application component.
*   `data/`: Intended for storing uploaded files, analysis results, and plots. (Note: This directory and its subdirectories `uploads/`, `results/`, `plots/` are excluded from Git via `.gitignore`).
*   `memory-bank/`: Contains project documentation and context files.

## How to Use

1.  Ensure both the backend and frontend servers are running.
2.  Open your browser and navigate to `http://localhost:3000`.
3.  Upload a C3D file using the file upload interface.
4.  The system will process the file, and the analysis results and visualizations will be displayed.

---

This project is currently under active development.