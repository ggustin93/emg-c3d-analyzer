# EMG C3D Analyzer - Environment Variables Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Supabase Configuration (Required)
# =============================================================================
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
# Note: SUPABASE_KEY removed - was duplicate of SUPABASE_ANON_KEY
SUPABASE_SERVICE_KEY=your_service_role_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# =============================================================================
# Frontend Configuration (Vite)
# =============================================================================
# Backend API URL - This is the main API endpoint
# Development: http://localhost:8080
# Production: https://your-backend-url.com
VITE_API_URL=http://localhost:8080

# Supabase configuration (client-side)
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key_here

# Storage bucket name
VITE_STORAGE_BUCKET_NAME=c3d-examples

# Note: Legacy REACT_APP_* variables removed - Vite uses VITE_* prefix
# Note: VITE_BACKEND_URL renamed to VITE_API_URL for clarity (2025-09-17)

# =============================================================================
# Redis Cache Configuration
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL_SECONDS=3600
REDIS_MAX_CACHE_SIZE_MB=100
REDIS_KEY_PREFIX=emg_analysis
REDIS_MAX_MEMORY=256mb

# =============================================================================
# Backend Configuration
# =============================================================================
# Application settings
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO/

# File storage paths
DATA_BASE_DIR=/app/data
UPLOAD_DIR=/app/data/uploads
RESULTS_DIR=/app/data/results
CACHE_DIR=/app/data/cache

# CORS settings (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,http://frontend:8080

# Security
SECRET_KEY=your_secret_key_for_jwt_or_sessions
WEBHOOK_SECRET=your_webhook_verification_secret

# =============================================================================
# Production Configuration (docker-compose.prod.yml)
# =============================================================================
# Container versioning
VERSION=latest

# Network ports
BACKEND_PORT=8080
FRONTEND_PORT=3000

# URLs for production
BACKEND_URL=https://api.your-domain.com
FRONTEND_URL=https://your-domain.com

# Performance settings
BACKEND_WORKERS=2

# Monitoring (optional)
SENTRY_DSN=https://your-sentry-dsn-here

# =============================================================================
# Development Hot Reload (docker-compose.dev.yml)
# =============================================================================
# File watching for hot reload
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true
NODE_OPTIONS=--max-old-space-size=2048

# =============================================================================
# Quick Start Commands
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in your Supabase values from https://app.supabase.com/project/settings/api
# 3. Generate secrets: openssl rand -base64 32
# 4. Start development: ./start_dev.sh
# 5. Start with webhook testing: ./start_dev.sh --webhook