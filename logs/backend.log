✅ Created raw channel entries: 'CH1 Raw' and 'CH1 Raw Raw'
✅ Created raw channel entries: 'CH2 Raw' and 'CH2 Raw Raw'
✅ Created raw channel entries: 'CH1 activated' and 'CH1 activated Raw'
✅ Created raw channel entries: 'CH2 activated' and 'CH2 activated Raw'
✅ Found RAW signal for CH1: 74280 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH1
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-1.760544e-05V, std=8.150573e-05V
  - Processed signal: mean=2.465663e-05V, std=5.181168e-05V
✅ Stored processed signal as 'CH1 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH1:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH1
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: -6.604542e-07V / 3.996663e-04V
  - Signal mean: 2.465680e-05V
  - Max amplitude from contractions: 3.996663e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: 75.0%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 74,280 samples at 990.0Hz (75.0s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 7.993327e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (15 total):
================================================================================
  [01]   2.31-  2.71s (   404ms): amp=3.875451e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.875451e-04V (mean: 2.056348e-04V)
       ├─ MVC compliance: 3.875451e-04V ≥ 1.125000e-04V (344.5% of MVC)
       └─ Duration compliance: 404ms < 2000.0ms (20.2% of target)
  [02]   3.61-  4.04s (   429ms): amp=3.523097e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.523097e-04V (mean: 1.785553e-04V)
       ├─ MVC compliance: 3.523097e-04V ≥ 1.125000e-04V (313.2% of MVC)
       └─ Duration compliance: 429ms < 2000.0ms (21.5% of target)
  [03]   4.94-  5.43s (   481ms): amp=3.560751e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.560751e-04V (mean: 2.067167e-04V)
       ├─ MVC compliance: 3.560751e-04V ≥ 1.125000e-04V (316.5% of MVC)
       └─ Duration compliance: 481ms < 2000.0ms (24.0% of target)
  [04]   6.10-  6.52s (   412ms): amp=2.989585e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [05]   7.61-  8.16s (   546ms): amp=3.776394e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]   9.08-  9.48s (   399ms): amp=3.144546e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  10.06- 10.56s (   503ms): amp=3.996663e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  16.04- 16.31s (   271ms): amp=1.241802e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  30.29- 30.72s (   427ms): amp=1.992197e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  55.20- 55.60s (   394ms): amp=3.233093e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  56.32- 56.59s (   268ms): amp=2.490301e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [12]  57.37- 57.54s (   168ms): amp=2.909126e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [13]  71.75- 72.16s (   411ms): amp=3.620500e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [14]  72.46- 72.69s (   225ms): amp=2.722325e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [15]  73.39- 73.80s (   415ms): amp=2.406837e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 12 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/15 (  0.0%)
  • Adequate (one criterion):   15/15 (100.0%)
  • Insufficient (neither):      0/15 (  0.0%)

📊 Compliance Analysis:
  • MVC compliance:      15/15 (100.0%)
  • Duration compliance:  0/15 (  0.0%)
  • Overall compliance:   0/15 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=384ms, std=102ms
  • Duration range: 168ms - 546ms
  • Total active time: 5.8s (7.7% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=3.032178e-04V, std=7.393401e-05V
  • Amplitude range: 1.241802e-04V - 3.996663e-04V
  • MVC percentages: max=355.3%, mean=269.5%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH1 to default: 75.0%
✅ Found RAW signal for CH2: 74280 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH2
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-2.549790e-06V, std=7.092100e-05V
  - Processed signal: mean=1.855196e-05V, std=4.520528e-05V
✅ Stored processed signal as 'CH2 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH2:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH2
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: -1.055929e-05V / 4.390784e-04V
  - Signal mean: 1.856348e-05V
  - Max amplitude from contractions: 4.390784e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: None%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 74,280 samples at 990.0Hz (75.0s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 8.781569e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (11 total):
================================================================================
  [01]   1.13-  1.46s (   332ms): amp=3.143683e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.143683e-04V (mean: 1.950350e-04V)
       ├─ MVC compliance: 3.143683e-04V ≥ 1.125000e-04V (279.4% of MVC)
       └─ Duration compliance: 332ms < 2000.0ms (16.6% of target)
  [02]  12.20- 12.67s (   469ms): amp=3.783145e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.783145e-04V (mean: 1.560661e-04V)
       ├─ MVC compliance: 3.783145e-04V ≥ 1.125000e-04V (336.3% of MVC)
       └─ Duration compliance: 469ms < 2000.0ms (23.4% of target)
  [03]  13.30- 13.50s (   198ms): amp=2.417862e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 2.417862e-04V (mean: 1.647127e-04V)
       ├─ MVC compliance: 2.417862e-04V ≥ 1.125000e-04V (214.9% of MVC)
       └─ Duration compliance: 198ms < 2000.0ms (9.9% of target)
  [04]  16.77- 16.99s (   219ms): amp=3.029856e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [05]  18.84- 19.03s (   193ms): amp=3.099230e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]  28.25- 28.57s (   320ms): amp=3.809390e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  28.90- 29.23s (   328ms): amp=4.390784e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  33.40- 33.62s (   222ms): amp=3.624988e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  39.29- 40.06s (   763ms): amp=4.146983e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  48.83- 49.08s (   248ms): amp=3.173982e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  70.92- 71.29s (   367ms): amp=3.753911e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 8 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/11 (  0.0%)
  • Adequate (one criterion):   11/11 (100.0%)
  • Insufficient (neither):      0/11 (  0.0%)

📊 Compliance Analysis:
  • MVC compliance:      11/11 (100.0%)
  • Duration compliance:  0/11 (  0.0%)
  • Overall compliance:   0/11 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=333ms, std=158ms
  • Duration range: 193ms - 763ms
  • Total active time: 3.7s (4.9% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=3.488528e-04V, std=5.437702e-05V
  • Amplitude range: 2.417862e-04V - 4.390784e-04V
  • MVC percentages: max=390.3%, mean=310.1%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH2 to default: 75.0%
INFO:     127.0.0.1:52729 - "POST /upload HTTP/1.1" 200 OK
✅ Created raw channel entries: 'CH1 Raw' and 'CH1 Raw Raw'
✅ Created raw channel entries: 'CH2 Raw' and 'CH2 Raw Raw'
✅ Created raw channel entries: 'CH1 activated' and 'CH1 activated Raw'
✅ Created raw channel entries: 'CH2 activated' and 'CH2 activated Raw'
✅ Found RAW signal for CH1: 67110 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH1
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-2.623672e-05V, std=7.637165e-05V
  - Processed signal: mean=4.275294e-05V, std=3.698183e-05V
✅ Stored processed signal as 'CH1 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH1:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH1
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: 8.095534e-06V / 3.319077e-04V
  - Signal mean: 4.275294e-05V
  - Max amplitude from contractions: 3.319077e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: 75.0%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 67,110 samples at 990.0Hz (67.8s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 6.638154e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (18 total):
================================================================================
  [01]   2.63-  3.98s (  1359ms): amp=3.319077e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.319077e-04V (mean: 8.732509e-05V)
       ├─ MVC compliance: 3.319077e-04V ≥ 1.125000e-04V (295.0% of MVC)
       └─ Duration compliance: 1359ms < 2000.0ms (67.9% of target)
  [02]   4.49-  5.31s (   828ms): amp=2.596361e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 2.596361e-04V (mean: 1.116030e-04V)
       ├─ MVC compliance: 2.596361e-04V ≥ 1.125000e-04V (230.8% of MVC)
       └─ Duration compliance: 828ms < 2000.0ms (41.4% of target)
  [03]   9.77- 10.52s (   746ms): amp=1.887800e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 1.887800e-04V (mean: 1.170606e-04V)
       ├─ MVC compliance: 1.887800e-04V ≥ 1.125000e-04V (167.8% of MVC)
       └─ Duration compliance: 746ms < 2000.0ms (37.3% of target)
  [04]  15.04- 15.75s (   709ms): amp=2.687652e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [05]  19.30- 19.83s (   530ms): amp=2.388140e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]  23.61- 24.11s (   493ms): amp=2.276325e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  32.59- 33.21s (   619ms): amp=2.429337e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  34.97- 35.49s (   515ms): amp=1.509339e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  40.38- 40.71s (   326ms): amp=3.077551e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  46.93- 47.38s (   452ms): amp=2.545832e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  50.14- 50.65s (   511ms): amp=1.660030e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [12]  53.33- 54.00s (   671ms): amp=2.260127e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [13]  55.98- 56.37s (   391ms): amp=1.607933e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [14]  58.99- 59.47s (   475ms): amp=1.519066e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [15]  62.84- 63.35s (   505ms): amp=1.260109e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [16]  64.24- 64.75s (   510ms): amp=1.223715e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [17]  65.50- 65.93s (   427ms): amp=1.107707e-04V, mvc=✗, dur=✗ → 🔴 INSUFFICIENT
  [18]  66.76- 67.19s (   431ms): amp=1.453430e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 15 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/18 (  0.0%)
  • Adequate (one criterion):   17/18 ( 94.4%)
  • Insufficient (neither):      1/18 (  5.6%)

📊 Compliance Analysis:
  • MVC compliance:      17/18 ( 94.4%)
  • Duration compliance:  0/18 (  0.0%)
  • Overall compliance:   0/18 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=583ms, std=227ms
  • Duration range: 326ms - 1359ms
  • Total active time: 10.5s (15.5% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=2.044974e-04V, std=6.441632e-05V
  • Amplitude range: 1.107707e-04V - 3.319077e-04V
  • MVC percentages: max=295.0%, mean=181.8%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH1 to default: 75.0%
✅ Found RAW signal for CH2: 67110 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH2
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-2.277615e-06V, std=5.628708e-05V
  - Processed signal: mean=3.952323e-05V, std=2.117068e-05V
✅ Stored processed signal as 'CH2 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH2:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH2
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: 1.091495e-05V / 3.220879e-04V
  - Signal mean: 3.952323e-05V
  - Max amplitude from contractions: 2.233070e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: None%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 67,110 samples at 990.0Hz (67.8s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 6.441759e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (11 total):
================================================================================
  [01]   0.04-  0.34s (   297ms): amp=7.255737e-05V, mvc=✗, dur=✗ → 🔴 INSUFFICIENT
       ├─ Peak amplitude: 7.255737e-05V (mean: 6.418723e-05V)
       ├─ MVC compliance: 7.255737e-05V < 1.125000e-04V (64.5% of MVC)
       └─ Duration compliance: 297ms < 2000.0ms (14.8% of target)
  [02]   0.76-  1.30s (   538ms): amp=5.819933e-05V, mvc=✗, dur=✗ → 🔴 INSUFFICIENT
       ├─ Peak amplitude: 5.819933e-05V (mean: 5.608246e-05V)
       ├─ MVC compliance: 5.819933e-05V < 1.125000e-04V (51.7% of MVC)
       └─ Duration compliance: 538ms < 2000.0ms (26.9% of target)
  [03]   1.60-  1.71s (   107ms): amp=5.539479e-05V, mvc=✗, dur=✗ → 🔴 INSUFFICIENT
       ├─ Peak amplitude: 5.539479e-05V (mean: 5.460163e-05V)
       ├─ MVC compliance: 5.539479e-05V < 1.125000e-04V (49.2% of MVC)
       └─ Duration compliance: 107ms < 2000.0ms (5.4% of target)
  [04]   7.07-  7.41s (   342ms): amp=7.632661e-05V, mvc=✗, dur=✗ → 🔴 INSUFFICIENT
  [05]   7.79-  9.11s (  1318ms): amp=1.762403e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]  17.48- 18.30s (   825ms): amp=1.531156e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  21.27- 21.65s (   386ms): amp=1.600144e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  38.09- 38.80s (   716ms): amp=1.974078e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  39.54- 40.19s (   645ms): amp=2.233070e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  46.23- 46.75s (   522ms): amp=1.597747e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  54.54- 54.73s (   195ms): amp=1.690412e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 8 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/11 (  0.0%)
  • Adequate (one criterion):    7/11 ( 63.6%)
  • Insufficient (neither):      4/11 ( 36.4%)

📊 Compliance Analysis:
  • MVC compliance:       7/11 ( 63.6%)
  • Duration compliance:  0/11 (  0.0%)
  • Overall compliance:   0/11 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=536ms, std=324ms
  • Duration range: 107ms - 1318ms
  • Total active time: 5.9s (8.7% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=1.364890e-04V, std=5.694709e-05V
  • Amplitude range: 5.539479e-05V - 2.233070e-04V
  • MVC percentages: max=198.5%, mean=121.3%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on force generation (only 63.6% meet MVC threshold)
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH2 to default: 75.0%
INFO:     127.0.0.1:52755 - "POST /upload HTTP/1.1" 200 OK
✅ Created raw channel entries: 'CH1 Raw' and 'CH1 Raw Raw'
✅ Created raw channel entries: 'CH2 Raw' and 'CH2 Raw Raw'
✅ Created raw channel entries: 'CH1 activated' and 'CH1 activated Raw'
✅ Created raw channel entries: 'CH2 activated' and 'CH2 activated Raw'
✅ Found RAW signal for CH1: 74280 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH1
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-1.760544e-05V, std=8.150573e-05V
  - Processed signal: mean=2.465663e-05V, std=5.181168e-05V
✅ Stored processed signal as 'CH1 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH1:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH1
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: -6.604542e-07V / 3.996663e-04V
  - Signal mean: 2.465680e-05V
  - Max amplitude from contractions: 3.996663e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: 75.0%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 74,280 samples at 990.0Hz (75.0s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 7.993327e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (15 total):
================================================================================
  [01]   2.31-  2.71s (   404ms): amp=3.875451e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.875451e-04V (mean: 2.056348e-04V)
       ├─ MVC compliance: 3.875451e-04V ≥ 1.125000e-04V (344.5% of MVC)
       └─ Duration compliance: 404ms < 2000.0ms (20.2% of target)
  [02]   3.61-  4.04s (   429ms): amp=3.523097e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.523097e-04V (mean: 1.785553e-04V)
       ├─ MVC compliance: 3.523097e-04V ≥ 1.125000e-04V (313.2% of MVC)
       └─ Duration compliance: 429ms < 2000.0ms (21.5% of target)
  [03]   4.94-  5.43s (   481ms): amp=3.560751e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.560751e-04V (mean: 2.067167e-04V)
       ├─ MVC compliance: 3.560751e-04V ≥ 1.125000e-04V (316.5% of MVC)
       └─ Duration compliance: 481ms < 2000.0ms (24.0% of target)
  [04]   6.10-  6.52s (   412ms): amp=2.989585e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [05]   7.61-  8.16s (   546ms): amp=3.776394e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]   9.08-  9.48s (   399ms): amp=3.144546e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  10.06- 10.56s (   503ms): amp=3.996663e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  16.04- 16.31s (   271ms): amp=1.241802e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  30.29- 30.72s (   427ms): amp=1.992197e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  55.20- 55.60s (   394ms): amp=3.233093e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  56.32- 56.59s (   268ms): amp=2.490301e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [12]  57.37- 57.54s (   168ms): amp=2.909126e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [13]  71.75- 72.16s (   411ms): amp=3.620500e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [14]  72.46- 72.69s (   225ms): amp=2.722325e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [15]  73.39- 73.80s (   415ms): amp=2.406837e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 12 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/15 (  0.0%)
  • Adequate (one criterion):   15/15 (100.0%)
  • Insufficient (neither):      0/15 (  0.0%)

📊 Compliance Analysis:
  • MVC compliance:      15/15 (100.0%)
  • Duration compliance:  0/15 (  0.0%)
  • Overall compliance:   0/15 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=384ms, std=102ms
  • Duration range: 168ms - 546ms
  • Total active time: 5.8s (7.7% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=3.032178e-04V, std=7.393401e-05V
  • Amplitude range: 1.241802e-04V - 3.996663e-04V
  • MVC percentages: max=355.3%, mean=269.5%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH1 to default: 75.0%
✅ Found RAW signal for CH2: 74280 samples at 990.0Hz

============================================================
🔬 RIGOROUS SIGNAL PROCESSING for CH2
============================================================
📊 Processing Results:
  - Source: RAW
  - Steps applied: 4
    • High-pass filter: 20.0Hz, order 4
    • Full-wave rectification
    • Low-pass filter for envelope: 10.0Hz, order 4
    • Moving average smoothing: 50.0ms window (49 samples)
  - Quality: ✅ Valid
  - Original signal: mean=-2.549790e-06V, std=7.092100e-05V
  - Processed signal: mean=1.855196e-05V, std=4.520528e-05V
✅ Stored processed signal as 'CH2 Processed'
============================================================

🔍 Backend Duration Threshold Debug for CH2:
  - session_duration_thresholds_per_muscle: None
  - contraction_duration_threshold: 2000
  ✅ Using global threshold: 2000.0ms

============================================================
🎯 CONTRACTION ANALYSIS DEBUG for CH2
============================================================
📊 Signal Information:
  - Signal source: RAW
  - Signal min/max: -1.055929e-05V / 4.390784e-04V
  - Signal mean: 1.856348e-05V
  - Max amplitude from contractions: 4.390784e-04V

⚙️ Thresholds:
  - MVC base value: None
  - MVC threshold percentage: None%
  - Actual MVC threshold: 1.125000e-04V
  - Duration threshold: 2000.0ms

🔬 CONTRACTION DETECTION RESULTS
================================================================================
📊 Signal Processing Context:
  - Input signal: 74,280 samples at 990.0Hz (75.0s duration)
  - Processing pipeline: High-pass filter: 20.0Hz, order 4 → Full-wave rectification → Low-pass filter for envelope: 10.0Hz, order 4 → Moving average smoothing: 50.0ms window (49 samples)

🎯 Detection Algorithm Parameters:
  - Detection threshold: 20% of max amplitude = 8.781569e-05V
  - Minimum duration: 100ms (99 samples)
  - Smoothing window: 100 samples (101.0ms)
  - MVC threshold: 1.125000e-04V (75% of MVC)
  - Duration threshold: 2000.0ms

📋 DETECTED CONTRACTIONS (11 total):
================================================================================
  [01]   1.13-  1.46s (   332ms): amp=3.143683e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.143683e-04V (mean: 1.950350e-04V)
       ├─ MVC compliance: 3.143683e-04V ≥ 1.125000e-04V (279.4% of MVC)
       └─ Duration compliance: 332ms < 2000.0ms (16.6% of target)
  [02]  12.20- 12.67s (   469ms): amp=3.783145e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 3.783145e-04V (mean: 1.560661e-04V)
       ├─ MVC compliance: 3.783145e-04V ≥ 1.125000e-04V (336.3% of MVC)
       └─ Duration compliance: 469ms < 2000.0ms (23.4% of target)
  [03]  13.30- 13.50s (   198ms): amp=2.417862e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ├─ Peak amplitude: 2.417862e-04V (mean: 1.647127e-04V)
       ├─ MVC compliance: 2.417862e-04V ≥ 1.125000e-04V (214.9% of MVC)
       └─ Duration compliance: 198ms < 2000.0ms (9.9% of target)
  [04]  16.77- 16.99s (   219ms): amp=3.029856e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [05]  18.84- 19.03s (   193ms): amp=3.099230e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [06]  28.25- 28.57s (   320ms): amp=3.809390e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [07]  28.90- 29.23s (   328ms): amp=4.390784e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [08]  33.40- 33.62s (   222ms): amp=3.624988e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [09]  39.29- 40.06s (   763ms): amp=4.146983e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [10]  48.83- 49.08s (   248ms): amp=3.173982e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
  [11]  70.92- 71.29s (   367ms): amp=3.753911e-04V, mvc=✓, dur=✗ → 🟡 ADEQUATE
       ... 8 additional contractions logged above

📈 STATISTICAL ANALYSIS:
================================================================================
📊 Quality Distribution:
  • Excellent (both criteria):   0/11 (  0.0%)
  • Adequate (one criterion):   11/11 (100.0%)
  • Insufficient (neither):      0/11 (  0.0%)

📊 Compliance Analysis:
  • MVC compliance:      11/11 (100.0%)
  • Duration compliance:  0/11 (  0.0%)
  • Overall compliance:   0/11 (  0.0%)

📊 Temporal Characteristics:
  • Duration stats: mean=333ms, std=158ms
  • Duration range: 193ms - 763ms
  • Total active time: 3.7s (4.9% of recording)

📊 Amplitude Characteristics:
  • Amplitude stats: mean=3.488528e-04V, std=5.437702e-05V
  • Amplitude range: 2.417862e-04V - 4.390784e-04V
  • MVC percentages: max=390.3%, mean=310.1%

🏥 CLINICAL ASSESSMENT:
================================================================================
  🔴 POOR therapeutic compliance (0.0%) - intervention needed
  📝 Recommendation: Focus on contraction duration (only 0.0% meet duration threshold)
================================================================================

================================================================================

  - Threshold percentage: 75.0%
Initializing MVC threshold percentage for CH2 to default: 75.0%
INFO:     127.0.0.1:52766 - "POST /upload HTTP/1.1" 200 OK
