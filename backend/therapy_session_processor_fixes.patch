--- a/services/clinical/therapy_session_processor.py
+++ b/services/clinical/therapy_session_processor.py
@@ -624,8 +624,16 @@ class TherapySessionProcessor:
         - session_settings (Schema v2.1 compliance)
         - bfr_monitoring (Schema v2.1 compliance)
         """
-        metadata = processing_result.get("metadata", {})
-        analytics = processing_result.get("analytics", {})
+        # Validate required data
+        if "metadata" not in processing_result:
+            raise ValueError("No metadata found in processing result")
+        if "analytics" not in processing_result:
+            raise ValueError("No analytics found in processing result")
+            
+        metadata = processing_result["metadata"]
+        analytics = processing_result["analytics"]
+        
+        # Validate that analytics is not empty
+        if not analytics:
+            logger.warning(f"Empty analytics data for session {session_code}")
         
         try:
             # EMG Statistics - Core table with clinical metrics
@@ -1347,6 +1355,16 @@ class TherapySessionProcessor:
             session_params: Session parameters
         """
         try:
+            # Validate required data (for test compatibility)
+            if "metadata" not in processing_result:
+                raise ValueError("No metadata found in processing result")
+            if "analytics" not in processing_result:
+                raise ValueError("No analytics found in processing result")
+                
             logger.info(f"ðŸ’¾ Starting database population for session {session_code}")
             
             # Simply delegate to the main population method