# ═══════════════════════════════════════════════════════════════════════════
# EMG C3D Analyzer - Production Environment Variables
# ═══════════════════════════════════════════════════════════════════════════
#
# Purpose: Environment-specific variables for production deployment
# Usage: Referenced by docker-compose.production.yml
# Deployment: VUB machines via self-hosted Coolify
#
# ═══════════════════════════════════════════════════════════════════════════

# Environment Configuration
ENVIRONMENT=production
VERSION=1.0.0
DEBUG=false
LOG_LEVEL=WARNING

# Service Configuration
ENABLE_REDIS=true  # Recommended for production
ENABLE_METABASE=true
SUPABASE_MODE=cloud  # cloud or selfhosted

# Supabase Cloud Configuration
# Replace with your production Supabase instance
SUPABASE_URL=https://your-production-project.supabase.co
SUPABASE_ANON_KEY=your-production-anon-key
SUPABASE_SERVICE_KEY=your-production-service-key

# Frontend Configuration
# Replace with your production domain
VITE_API_URL=https://api.yourdomain.com
VITE_SUPABASE_URL=${SUPABASE_URL}
VITE_SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
VITE_ENVIRONMENT=production

# Backend Configuration
FRONTEND_URL=https://app.yourdomain.com
ALLOWED_ORIGINS=${FRONTEND_URL}

# Security (Generate strong unique keys for production)
SECRET_KEY=your-production-secret-key-min-32-chars
WEBHOOK_SECRET=your-production-webhook-secret
MB_ENCRYPTION_SECRET_KEY=your-metabase-encryption-key

# Redis Configuration (Production optimized)
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_TTL_SECONDS=7200
REDIS_MAX_CACHE_SIZE_MB=200
REDIS_MAX_MEMORY=512mb
REDIS_KEY_PREFIX=emg_production
REDIS_PASSWORD=redis-secure-password

# Metabase Analytics
METABASE_DB_USER=metabase
METABASE_DB_PASS=secure-production-metabase-password

# Performance
BACKEND_WORKERS=4

# Optional: Monitoring
# SENTRY_DSN=https://xxx@sentry.io/xxx

# Supabase Self-Hosted (if SUPABASE_MODE=selfhosted)
# POSTGRES_PASSWORD=super-secure-password
# JWT_SECRET=your-jwt-secret-min-32-chars
# ANON_KEY=your-anon-key
# SERVICE_KEY=your-service-key